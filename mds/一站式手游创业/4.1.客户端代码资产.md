### 4.1.客户端代码资产

### 一、**核心结构梳理表格（系统分类 + 推荐方案 + 来源 + 成本）**

| **分类**     | **系统模块/功能点**            | **推荐方案/框架**            | **来源建议**                | **成本评估** | **说明备注**         |
| ------------------ | ------------------------------------ | ---------------------------------- | --------------------------------- | ------------------ | -------------------------- |
| **UI系统**   | UI结构、动态加载、分层管理、事件系统 | UGUI / FairyGUI / UIMesh           | 开源+ 商用（如FairyGUI）          | 中                 | 建议搭配UI管理器封装框架   |
| **热更系统** | 脚本逻辑、资源、配表动态更新         | XLua / ILRuntime / HybridCLR       | GitHub开源或商业授权（HybridCLR） | 中至高             | 需Unity IL2CPP构建兼容     |
| **网络层**   | Socket封装、协议包处理               | TCP/UDP封装+Protobuf/FlatBuffers   | 自研或基于开源NetClient 框架      | 中                 | 建议统一封装NetCore模块    |
| **资源系统** | AssetBundle管理、异步加载、缓存回收  | Unity Addressables / 自研BundleMgr | Unity生态 + 社区开源              | 中                 | 建议支持加载路径与热更打通 |
| **音频系统** | 音效管理、BGM、声音池、混音          | Unity内建 / FMOD / Wwise           | 第三方插件（国内代理购买）        | 低至中             | 重点在于配置与音效表支持   |
| **时间系统** | 定时器、延时任务、系统时间同步       | 自研Timer模块 / DoTween定时扩展    | 自研+ 通用开源                    | 低                 | 建议统一事件管理系统调用   |
| **状态机**   | 角色状态切换/ 动画状态控制           | 自研FSM / 插件（Playmaker）        | GitHub + 旧项目复用               | 中                 | 适合用在战斗系统/剧情驱动  |
| **存储系统** | 本地存档、PlayerPrefs扩展            | 自研Json/二进制存档类              | 开源脚本+ 旧代码提取              | 低                 | SLG建议接入加密压缩        |
| **日志系统** | 日志等级、运行时调试界面             | 自研+ DebugConsole框架             | 开源工具（如IngameDebugConsole）  | 低                 | 对上线调试极其重要         |
| **工具库**   | 常用算法、数学库、数据结构           | 自研/ Unity ToolKit整合            | GitHub + 企业内部代码库           | 低                 | 建议模块化封装便于复用     |

### 二、**客户端代码资产的三级结构**

#### **1. 游戏框架层（基础系统）**

游戏能运行起来的“骨架”，涉及资源、UI、热更、网络、声音、存档等底层基础服务系统。

| **模块** | **核心职责**                     | **建议实现方式**           | **成本评估** |
| -------------- | -------------------------------------- | -------------------------------- | ------------------ |
| UI 系统        | 管理界面加载、事件绑定、分层与显示逻辑 | 使用FairyGUI/UGUI+UIManager模块  | 中                 |
| 网络系统       | 管理消息收发、心跳、断线重连等         | Protobuf + TCP封装 + NetClient类 | 中                 |
| 热更系统       | 加载脚本、表格、资源更新逻辑           | XLua + 热更资源配置表 + 后台支持 | 中~高              |
| 声音系统       | 播放、混音、BGM管理、音量调节          | SoundMgr + 资源池系统 + 音效表   | 中                 |
| 存档系统       | 游戏记录存取、加密、用户偏好           | Json序列化+加密工具类            | 低                 |
| 日志系统       | 输出、分级、运行调试辅助工具           | ConsoleView + DebugKit           | 低                 |

��建议：**这层系统如果缺失，开发过程中极易返工。推荐统一由主程主导搭建。**

---

#### **2. 通用工具类（底层逻辑）**

提供高复用的基础能力，支撑系统运转，是“润滑剂”。

| **模块** | **说明**                           |
| -------------- | ---------------------------------------- |
| Singleton      | 单例类封装，避免重复实例                 |
| FSM            | 状态管理器，角色/行为系统通用            |
| Timer          | 延迟、定时、冷却计时器封装               |
| EventBus       | 消息分发机制，支持解耦模块通信           |
| Json/XML工具   | 配置表、存档转换器                       |
| 数学库         | 向量、角度、距离、路径判断等基础支持     |
| 路径管理器     | 热更资源路径、AssetBundle路径统一管理    |
| 性能监控类     | 帧率、内存使用、渲染耗时等可视化调试工具 |

��建议：**此类代码可以大量复用旧项目或社区开源组件，但需重构命名空间、代码规范。**

---

#### **3. 游戏业务管理模块（功能封装）**

直接支撑“玩法层”的逻辑模块，管理数据与UI之间的中间层。

| **模块**  | **说明**                           |
| --------------- | ---------------------------------------- |
| UIManager       | 管理页面生命周期、堆栈、切换             |
| ResourceManager | 加载异步资源并支持回收与缓存             |
| SoundManager    | 根据配置播放音效/BGM，并可动态调整       |
| NetworkManager  | 协议注册、回包处理、请求队列等           |
| GameManager     | 控制游戏主流程（登录、进大厅、进入战斗） |
| DataManager     | 存储玩家数据状态，统一数据读取接口       |
| SceneManager    | 场景加载/切换封装，结合地址系统          |
| GuideManager    | 新手引导步骤逻辑控制                     |

建议：**此部分代码和策划联动最频繁，强烈建议模块化和注释规范化。**

### 三、**资产获取与使用建议**

| **获取方式** | **建议用途**         | **成本** | **推荐方向**           |
| ------------------ | -------------------------- | -------------- | ---------------------------- |
| ✅ 公司旧项目      | 框架通用层、工具库         | 低             | 修改命名空间+ 模块封装       |
| ✅ GitHub开源      | Timer/Event/UI等通用模块   | 低~中          | 挑选活跃项目、版本兼容性强   |
| ✅ 插件商城购买    | 热更框架、UI系统、行为树等 | 中~高          | Unity Asset Store / 国内镜像 |
| ✅ 社区分享        | 游戏框架模板、Demo集合     | 低             | 如MoonSharp、TDR 框架整合    |
| ⚠️ 商业SDK       | 声音/网络/动画播放等       | 中             | 注意License限制及升级兼容性  |

### 四、**成本建议与人力预估（仅框架层）**

| **模块层级** | **建议人力** | **周期预估** | **建议备注**         |
| ------------------ | ------------------ | ------------------ | -------------------------- |
| 底层框架系统       | 1位主程            | 2~3个月            | 前提是有参考项目或模块库   |
| 工具模块复用改造   | 1人                | 2周内              | 可从旧项目抽取重构         |
| 业务逻辑封装       | 程序+ 策划协同     | 持续迭代           | 推荐按系统划分多人并行开发 |
